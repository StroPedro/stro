(this.webpackJsonpmayappp=this.webpackJsonpmayappp||[]).push([[4],{205:function(e,a,t){},208:function(e,a,t){"use strict";t.r(a);var c=t(0),s=t(3),n=t.n(s),r=t(8),i=(t(17),t(19),t(2)),o=t(1),l=t(52),d=t(63),j=t.n(d),u=(t(11),t(7)),b=t.n(u),h=t(4),p=t(5),O=t(10),m=(t(81),t(205),t(21)),f=t(31),g=t.n(f),x=t(18),v=t.n(x),N=t(15),S=t.n(N),y=t(39);Object(y.b)("es_ES",(function(e,a,t){return[["justo ahora","ahora mismo"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","in %s horas"],["hace 1 dia","en 1 dia"],["hace %s dias","en %s dias"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 a\xf1o","en 1 a\xf1o"],["hace %s a\xf1os","en %s a\xf1os"]][a]}));a.default=Object(p.h)((function(e){e.history;var a=Object(o.useState)({email:"",contrasena:""}),t=Object(i.a)(a,2),s=(t[0],t[1],Object(o.useState)({nombre:"",email:"",contrasena:""})),d=Object(i.a)(s,2),u=(d[0],d[1],Object(o.useState)("")),p=Object(i.a)(u,2),f=(p[0],p[1],Object(o.useState)([])),x=Object(i.a)(f,2),N=x[0],k=x[1],w=Object(o.useState)(""),F=Object(i.a)(w,2),C=(F[0],F[1],Object(o.useState)(1)),D=Object(i.a)(C,2),P=D[0],_=D[1],E=Object(o.useState)(1),q=Object(i.a)(E,2),A=q[0],z=q[1],M=Object(o.useState)(1),T=Object(i.a)(M,2),I=T[0],J=T[1],Q=Object(o.useState)(""),R=Object(i.a)(Q,2),B=R[0],K=R[1],L=Object(o.useContext)(O.a),U=L.isAuthentificated,G=(L.setIsAuthentificated,Object(o.useState)(!0)),H=Object(i.a)(G,2),V=(H[0],H[1],Object(o.useState)("")),W=Object(i.a)(V,2),X=W[0],Y=W[1],Z=Object(o.useState)(""),$=Object(i.a)(Z,2),ee=$[0],ae=$[1],te=Object(o.useState)(!1),ce=Object(i.a)(te,2),se=ce[0],ne=ce[1],re=Object(o.useState)(!1),ie=Object(i.a)(re,2),oe=ie[0],le=ie[1],de=Object(o.useState)(""),je=Object(i.a)(de,2),ue=(je[0],je[1]),be=Object(o.useState)(!1),he=Object(i.a)(be,2),pe=he[0],Oe=he[1],me=Object(o.useState)(!0),fe=Object(i.a)(me,2),ge=(fe[0],fe[1],Object(o.useState)([])),xe=Object(i.a)(ge,2),ve=xe[0],Ne=xe[1],Se=Object(o.useState)(""),ye=Object(i.a)(Se,2),ke=ye[0],we=ye[1],Fe=Object(o.useState)(1),Ce=Object(i.a)(Fe,2),De=Ce[0],Pe=Ce[1],_e=function(){var e=Object(r.a)(n.a.mark((function e(a){var t,c,s,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!U){e.next=22;break}return Oe(!0),console.log(B),(t=new FormData).append("file",X),t.append("user",window.sessionStorage.getItem("user")),t.append("pregunta",B),t.append("numresp",0),e.next=11,b.a.post("https://app-node-react.herokuapp.com/preguntas",t,{headers:{"Content-Type":"multipart/form-data"}});case 11:return c=e.sent,s=c.data,console.log(s),ue(s),""!=s&&(r="<span>"+s+"</span>",v.a.toast({html:r})),ae(""),K(""),e.next=20,qe();case 20:e.next=22;break;case 22:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(r.a)(n.a.mark((function e(a){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,b()({method:"post",url:"https://app-node-react.herokuapp.com/buscar_pregunta",data:{preguntaQueSeBusca:ve}});case 3:t=e.sent,console.log(t.data),k(t.data);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),qe=function(){var e=Object(r.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"get",url:"https://app-node-react.herokuapp.com/coger-preguntas"});case 2:a=e.sent,console.log(a.data.docs,"ffffffffffffffffffffffff"),k(a.data.docs),_(a.data.nextPage),z(a.data.prevPage),J(a.data.totalPages),Pe(a.data.page),console.log(I,"gggggggggggggggggggggggggggggg"),a.data.docs?(ne(!0),Oe(!1)):ne(!1),console.log(a.data);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(r.a)(n.a.mark((function e(a){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()({method:"get",url:"https://app-node-react.herokuapp.com/coger-preguntas-paginacio/".concat(a)});case 2:t=e.sent,console.log(t.data.docs),k(t.data.docs),_(t.data.nextPage),z(t.data.prevPage),J(t.data.totalPages),Pe(t.data.page),t.data.docs?(ne(!0),Oe(!1)):ne(!1),console.log(t.data);case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ze=function(){for(var e=[],a=0;a<I;a++){var t=a+1;e.push(t)}console.log("");var s=e.map((function(e){return Object(c.jsx)(c.Fragment,{children:De==e?Object(c.jsx)("li",{class:"active paginacion-boton",children:Object(c.jsx)("a",{href:"#!",onClick:function(){Ae("e"+e)},children:e})}):Object(c.jsx)("li",{class:"paginacion-boton ",children:Object(c.jsx)("a",{href:"#!",onClick:function(){Ae("e"+e)},children:e})})})}));return console.log(s),Object(c.jsxs)("ul",{class:"pagination",children:[A?Object(c.jsx)("li",{class:"waves-effect",children:Object(c.jsx)("a",{href:"#!",onClick:function(){Ae("p"+A)},children:Object(c.jsx)("i",{class:"material-icons",children:"chevron_left"})})}):Object(c.jsx)("li",{class:"disabled",children:Object(c.jsx)("a",{href:"#!",children:Object(c.jsx)("i",{class:"material-icons",children:"chevron_left"})})}),s,P?Object(c.jsx)("li",{class:"waves-effect",children:Object(c.jsx)("a",{href:"#!",onClick:function(){Ae("n"+P)},children:Object(c.jsx)("i",{class:"material-icons",children:"chevron_right"})})}):Object(c.jsx)("li",{class:"disabled",children:Object(c.jsx)("a",{href:"#!",children:Object(c.jsx)("i",{class:"material-icons",children:"chevron_right"})})})]})};return Object(o.useEffect)((function(){if(X){var e=new FileReader;e.onloadend=function(){ae(e.result)},e.readAsDataURL(X)}else ae(null);"loading"==document.readyState?console.log(oe):le(!0)}),[X]),Object(o.useEffect)((function(){qe()}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(m.a,{}),Object(c.jsx)("div",{className:"contenedor-buscar",children:Object(c.jsx)("form",{onSubmit:Ee,className:"formulario-buscar",action:"/articulos_pc",method:"POST",children:Object(c.jsxs)("div",{className:"input-field input-buscar",children:[Object(c.jsx)("input",{id:"icon_prefix",type:"text",name:"articulo",value:ve,placeholder:"Que buscas ?",onChange:function(e){Ne(e.target.value)},required:!0}),Object(c.jsx)("button",{type:"submit",className:"btn-small prefix boton-de-busqueda",children:Object(c.jsx)("i",{className:"material-icons ",children:"search"})})]})})}),Object(c.jsx)("div",{className:"contenedor-pub",children:Object(c.jsxs)("div",{className:"container-img-pub  ",children:[Object(c.jsxs)("div",{className:"row formulario-contenedor-text-editor ",children:[Object(c.jsx)("div",{className:"col s12 texto-encabezado-formulario",children:Object(c.jsx)("p",{children:"publica tu problema"})}),Object(c.jsxs)("form",{className:"formulario",onSubmit:_e,children:[Object(c.jsx)("div",{className:"editor",children:Object(c.jsx)(l.CKEditor,{editor:j.a,data:B,onChange:function(e,a){var t=a.getData();K(t)}})}),Object(c.jsx)("div",{className:"file-select",id:"src-file1",children:Object(c.jsx)("input",{type:"file",name:"src-file1","aria-label":"Archivo",onChange:function(e){return function(e){Y(e)}(e.target.files[0])}})}),U?"":Object(c.jsx)("div",{className:"respuestaError",children:Object(c.jsx)("p",{children:ke})}),pe?Object(c.jsx)("div",{className:"Spinner-a\xf1adir-pregunta",children:Object(c.jsx)(S.a,{type:"TailSpin",color:"#0d47a1",secondaryColor:"#0d47a1",height:30,width:30})}):"",U?Object(c.jsx)("button",{type:"submit",className:" btnn btn-small",children:"Publicar"}):Object(c.jsx)("a",{onClick:function(){we("por favor inicia session")},className:"btnn btn-small",children:"Publicar "})]})]}),Object(c.jsx)("div",{className:"previsualizacion margen-abajo",children:Object(c.jsxs)("div",{className:"previsualizacion-50",children:[Object(c.jsx)("div",{className:"contenido-teorico",children:g()(B)}),Object(c.jsx)("div",{className:"imagen-previ",children:Object(c.jsx)("a",{onClick:function(){var e=document.querySelectorAll(".previsualisacioFotoFFF");v.a.Modal.init(e,{inDuration:0,outDuration:0,preventScrolling:!1})},className:"modal-trigger",href:"#previsualisacioFotoFFF",children:Object(c.jsx)("img",{src:ee,alt:""})})}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:" modal modall previsualisacioFotoFFF",id:"previsualisacioFotoFFF",children:Object(c.jsx)("div",{className:"modal-content",children:Object(c.jsx)("img",{src:ee})})})})]})}),Object(c.jsx)("div",{className:"texto-encabezado-pregunats-recientes",children:Object(c.jsx)("p",{children:"Mas recientes"})}),se?N.map((function(e){return Object(c.jsx)("div",{className:"estilos-preguntas ",children:Object(c.jsxs)("div",{className:"contenedor-titulo-fecha-pregunta ",children:[Object(c.jsxs)("div",{className:"contenedor-titulo-fecha",children:[Object(c.jsx)("div",{className:"contenedor-fecha",children:Object(c.jsx)("p",{children:(a=e.fecha,Object(y.a)(a,"es_ES"))})}),Object(c.jsx)("div",{className:"contenedor-user",children:Object(c.jsx)("p",{children:e.user})})]}),Object(c.jsx)("div",{className:"contenedor-titulo-pregunta",children:Object(c.jsx)("h4",{children:g()(e.pregunta)})}),e.url?Object(c.jsx)("div",{className:"Imagen-Pregunta",children:Object(c.jsxs)("div",{className:"contenedor-ver-imagen",children:[Object(c.jsx)("a",{onClick:function(){var a=document.querySelector("#".concat(e.clave));v.a.Modal.init(a,{inDuration:0,outDuration:0,preventScrolling:!1})},className:"modal-trigger",href:"#".concat(e.clave),children:Object(c.jsx)("img",{src:"".concat(e.url),alt:""})}),Object(c.jsx)("a",{onClick:function(){var a=document.querySelector("#".concat(e.clave));v.a.Modal.init(a,{inDuration:0,outDuration:0,preventScrolling:!1})},className:"ver-imagen modal-trigger",href:"#".concat(e.clave),children:Object(c.jsx)("i",{className:" material-icons",children:"visibility"})})]})}):"",Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"modal modall ".concat(e.clave),id:"".concat(e.clave),children:Object(c.jsx)("div",{className:"modal-content",children:Object(c.jsx)("img",{src:"".concat(e.url),alt:""})})})}),Object(c.jsxs)("div",{className:"contenedor-ver-y-responder",children:[Object(c.jsx)("div",{className:"contenedor-numero-respuestas",children:Object(c.jsxs)("p",{children:[" ",Object(c.jsxs)("span",{children:[e.numresp," "]})," respuestas"]})}),Object(c.jsx)("div",{className:"contenedor-ver-mas",children:Object(c.jsx)(h.b,{to:"/respuestas/".concat(e._id),className:"btn btn-small",children:"respo."})}),Object(c.jsx)("div",{className:"contenedor-responder"})]})]})},e.url);var a})):Object(c.jsx)("div",{className:"estilos-spiner container",children:Object(c.jsx)("div",{className:"contenedor-spinner",children:Object(c.jsx)(S.a,{type:"TailSpin",color:"#0d47a1",secondaryColor:"#0d47a1",height:40,width:40})})})]})}),Object(c.jsx)("div",{className:"paginacion",children:Object(c.jsx)(ze,{})})]})}))}}]);
//# sourceMappingURL=4.2ff12e43.chunk.js.map